{% extends 'base.html.twig' %}

{% block title %}Détails de la sortie{% endblock %}

{% block body %}
    <div class="max-w-4xl mx-auto p-6 bg-white rounded-lg shadow-md relative">


        <a href="{{ path('app_event_list') }}" class="absolute top-4 left-4 text-custom-blue hover:text-blue-600">
            <img src="{{ asset('image/en-arriere.png') }}" alt="Retour" class="w-10 h-10">
        </a>

        <h1 class="text-3xl font-bold mb-6 text-gray-800 text-center">Détails de la sortie</h1>

        <div class="mb-6 space-y-4">
            <div class="flex items-center">
                <label for="user" class="w-48 text-gray-700 font-semibold">Organisateur :</label>
                <input id="user" type="text" value="{{ event.organizer.pseudo() }}" class="w-full p-2 border border-gray-300 rounded-md bg-gray-50" disabled>
            </div>

            <div class="flex items-center">
                <label for="name" class="w-48 text-gray-700 font-semibold">Nom de la sortie :</label>
                <input id="name" type="text" value="{{ event.name() }}" class="w-full p-2 border border-gray-300 rounded-md bg-gray-50" disabled>
            </div>

            <div class="flex items-center">
                <label for="eventStart" class="w-48 text-gray-700 font-semibold">Date et heure de la sortie :</label>
                <input id="eventStart" type="text" value="{{ event.eventStart | date('d/m/Y H:i') }}" class="w-full p-2 border border-gray-300 rounded-md bg-gray-50" disabled>
            </div>

            <div class="flex items-center">
                <label for="participationDeadline" class="w-48 text-gray-700 font-semibold">Date limite d'inscription :</label>
                <input id="participationDeadline" type="text" value="{{ event.participationDeadline | date('d/m/Y') }}" class="w-full p-2 border border-gray-300 rounded-md bg-gray-50" disabled>
            </div>

            <div class="flex items-center">
                <label for="participantLimit" class="w-48 text-gray-700 font-semibold">Nombre de places :</label>
                <input id="participantLimit" type="text" value="{{ event.participantLimit }}" class="w-full p-2 border border-gray-300 rounded-md bg-gray-50" disabled>
            </div>

            <div class="flex items-center">
                <label for="duration" class="w-48 text-gray-700 font-semibold">Durée :</label>
                <input id="duration" type="text" value="{{ event.duration }}" class="w-full p-2 border border-gray-300 rounded-md bg-gray-50" disabled>
            </div>

            <div class="flex items-center">
                <label for="description" class="w-48 text-gray-700 font-semibold">Description :</label>
                <input id="description" type="text" value="{{ event.description }}" class="w-full p-2 border border-gray-300 rounded-md bg-gray-50" disabled>
            </div>

            <div class="flex items-center">
                <label for="campus" class="w-48 text-gray-700 font-semibold">Campus :</label>
                <input id="campus" type="text" value="{{ event.campus.name }}" class="w-full p-2 border border-gray-300 rounded-md bg-gray-50" disabled>
            </div>

            <div class="flex items-center">
                <label for="city" class="w-48 text-gray-700 font-semibold">Ville :</label>
                <input id="city" type="text" value="{{ event.place.city.name }}" class="w-full p-2 border border-gray-300 rounded-md bg-gray-50" disabled>
            </div>

            <div class="flex items-center">
                <label for="place" class="w-48 text-gray-700 font-semibold">Lieu :</label>
                <input id="place" type="text" value="{{ event.place.name }}" class="w-full p-2 border border-gray-300 rounded-md bg-gray-50" disabled>
            </div>

            <div class="flex items-center">
                <label for="address" class="w-48 text-gray-700 font-semibold">Rue :</label>
                <input id="address" type="text" value="{{ event.place.address }}" class="w-full p-2 border border-gray-300 rounded-md bg-gray-50" disabled>
            </div>

            <div class="flex items-center">
                <label for="zipcode" class="w-48 text-gray-700 font-semibold">Code postal :</label>
                <input id="zipcode" type="text" value="{{ event.place.city.zipcode }}" class="w-full p-2 border border-gray-300 rounded-md bg-gray-50" disabled>
            </div>

            <div class="flex items-center">
                <label for="latitude" class="w-48 text-gray-700 font-semibold">Latitude :</label>
                <input id="latitude" type="text" value="{{ event.place.latitude }}" class="w-full p-2 border border-gray-300 rounded-md bg-gray-50" disabled>
            </div>

            <div class="flex items-center">
                <label for="longitude" class="w-48 text-gray-700 font-semibold">Longitude :</label>
                <input id="longitude" type="text" value="{{ event.place.longitude }}" class="w-full p-2 border border-gray-300 rounded-md bg-gray-50" disabled>
            </div>
        </div>

        <div class="mt-6">
            <h2 class="text-xl font-semibold mb-4">Participants</h2>
            <table class="table-auto w-full bg-gray-100 rounded-md">
                <thead>
                <tr class="bg-gray-200 text-gray-700">
                    <th class="px-4 py-2">Pseudo</th>
                    <th class="px-4 py-2">Email</th>
                </tr>
                </thead>
                <tbody>
                {% for participant in event.participants %}
                    <tr class="border-t">
                        <td class="px-4 py-2">{{ participant.pseudo }}</td>
                        <td class="px-4 py-2">{{ participant.email }}</td>
                    </tr>
                {% endfor %}
                </tbody>
            </table>
        </div>

        <div class="mt-8 flex justify-between">
            {% if app.user == event.organizer %}
                <a href="{{ path('app_event_edit', { 'id': event.id } ) }}" class="bg-blue-500 text-white px-4 py-2 rounded-md hover:bg-blue-600">Modifier</a>
            {% endif %}
        </div>

        <button class="group group-hover:before:duration-500 group-hover:after:duration-500 after:duration-500 hover:border-orange-400 hover:before:[box-shadow:_20px_20px_20px_30px_#ff9b54] duration-500 before:duration-500 hover:duration-500  underline-offset-2 hover:after:-right-8 hover:before:right-12 hover:before:-bottom-8 hover:before:blur hover:underline hover:underline-offset-4  origin-left hover:decoration-2 hover:text-white relative bg-custom-blue h-12 w-full border text-center p-3 text-gray-50 text-base font-bold rounded-lg  overflow-hidden  before:absolute before:w-12 before:h-12 before:content[''] before:right-1 before:top-1 before:z-10 before:bg-orange-400 before:rounded-full before:blur-lg  after:absolute after:z-10 after:w-20 after:h-20 after:content['']  after:bg-light-blue after:right-8 after:top-3 after:rounded-full after:blur-lg"
                type="submit">


        </button>
        <form action="{{ path('app_event_participate', { 'id': event.id }) }}" method="post">
            <button type="submit" >Participer</button>
        </form>
    </div>
{% endblock %}
